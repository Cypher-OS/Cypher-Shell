<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>RayShell Terminal</title>

  <!-- xterm.js -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css">
  <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>

  <!-- QWebChannel -->
  <script src="qrc:///qtwebchannel/qwebchannel.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit/lib/xterm-addon-fit.js"></script>


  <!-- JetBrains Mono -->
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: radial-gradient(ellipse at center, #050505 0%, #000000 100%);
      height: 100%;
      width: 100%;
      overflow: hidden;
      font-family: 'JetBrains Mono', monospace;
    }


    #terminal {
      height: 100%;
      width: 100%;
    }

    .xterm {
      font-family: 'JetBrains Mono', monospace;
      font-size: 14px;
      color: #00ffcc;
      background-color: transparent;
      text-shadow: 0 0 5px #00ffcc;
      animation: flicker 2s infinite alternate;
    }

    @keyframes flicker {
      0% { opacity: 0.97; text-shadow: 0 0 2px #00ffcc, 0 0 10px #00ffcc; }
      100% { opacity: 1; text-shadow: 0 0 3px #00ffcc, 0 0 12px #00ffcc; }
    }

    /* Scrollbar hidden */
    ::-webkit-scrollbar {
      width: 0px;
      background: transparent;
    }

    /* Terminal fade-in */
    #terminal {
      animation: fadeIn 1s ease-out;
    }

    @keyframes fadeIn {
      0% { opacity: 0; transform: scale(0.98); }
      100% { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>
  <div id="terminal"></div>

  <script>
    const term = new Terminal({
      cursorBlink: true,
      theme: {
        background: "#00000000",  // Transparent
        foreground: "#00ffcc",
        cursor: "#00ffcc",
        selection: "#00ffcc55"
      }
    });

   
    term.open(document.getElementById('terminal'));

    new QWebChannel(qt.webChannelTransport, function(channel) {
      const backend = channel.objects.backend;

      term.onData(data => {
        backend.sendInput(data);
      });

      backend.outputReady.connect(function(data) {
        term.write(data);
      });


       const fitAddon = new FitAddon.FitAddon();
term.loadAddon(fitAddon);

term.open(document.getElementById("terminal"));
fitAddon.fit();

    });
  </script>
</body>
</html>
